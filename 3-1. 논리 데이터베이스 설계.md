# 3.데이터베이스 구축
## 1. 논리 데이터베이스 설계
### 1-1. 관계 데이터 모델

**관계 데이터 모델**
- 현실 세계의 정보들을 컴퓨터에 표현하기 위하여 단순화, 추상화하여 체계적으로 표현한 개념적 모델
- 데이터(외적) + 데이터와의 관계(릴레이션) + 데이터의 의미 및 일관성 + 제약조건 등을 기술하기 위한 개념적 도구들의 모델
<p align="center"><img src="https://github.com/7ahyeon/EIP-study/assets/107123698/e62b43d5-d211-4ec8-9738-f225826bed6c" width="650" /></p>
- 에드거 프랭크 코드(E. F. Codd) 제안

**관계 데이터 모델 구성 요소**
|구성 요소|설명|
|--|--|
|개체 Entity|업무 활동상 지속적인 관심을 가지고 있는 대상 <br>그 대상들 간에 동질성을 지닌 개체 집합이나 행위의 집합|
|속성 Attribute|업무에 필요한 개체에서 관리하고자 하는 더이상 분리되지 않는 최소한의 데이터 단위|
|관계 Relationship|개체 간의 관계 또는 속성 간의 논리적인 연결|

**관계 데이터 모델 절차**
- 요구사항 분석

|절차|설명|
|--|--|
|개념적 모델|현실 세계에 대한 이해를 위해 현실 세계에 대한 인식을 추상적 개념으로 표현하는 과정|
|논리적 모델|개념적 모델링 과정에서 얻은 개념적 구조를 컴퓨터가 이해하고 처리할 수 있는 환경으로 변환하는 과정|
|물리적 모델|각 DBMS의 특성을 고려하여 데이터베이스의 물리 데이터 모델(저장 구조)로 변환<br>- 테이블, 인덱스, 뷰, 파티션 등의 객체 생성|

**데이터베이스 설계**
|절차|주요 프로세스|
|--|--|
|요구 조건 분석|요구 조건 명세 작성|
|개념적 설계 단계|목표 DBMS에 맞는 스키마(독립적인 개념 스키마) 설계, 트랜잭션 모델링, E-R 모델링 수행|
|논리적 설계 단계|논리 데이터 모델로 변환, 트랜잭션 인터페이스 설계, 목표 DBMS에 맞는 스키마 평가 및 정제|
|물리적 설계|저장 레코드 양식 설계, 레코드 집중 Record Clustering의 분석 및 설계, 파일 조작/저장 방법 및 접근 경로 설계|
|구현|목표 DBMS의 DDL 수행, 데이터베이스 생성, 트랜잭션 작성|

- 레코드 집중 Record Clustering : 저장 공간에 데이터들이 물리적으로 집중 저장되도록 할당해 물리적 순차성을 이용하는 기술 (효율적인 검색 가능)

# 문제
- 데이터 모델에 표시해야 할 요소
  1. 데이터 구조
  2. 연산
  3. 제약조건

- 물리적 설계
  - 응답 시간, 저장 공간의 효율화, 트랜잭션 처리도
  - 저장 레코드 양식 설계, 레코드 집중의 분석 및 설계, 접근 경로의 설계
- 논리적 설계
  - 논리적 데이터베이스 구조로 매핑(mapping)
  - 트랜잭션 인터페이스 설계
  - 스키마 평가 및 정제
- 개념적 설계
  - 목표 DBMS에 맞는 스키마 설계
  - 트랜잭션 모델링

- 중복 관계 Redundant Relationship
  - 특정의 두 개체들 간에 두 번 이상의 종속 관계가 발생하는 관계
 
- 데이터 모델링 수행 시 도출되어 표현되는 관계
  - 1:1
  - 1:0 또는 1:1 관계
  - 1:1 또는 1:다 관계

- 해소해야하는 관계 - 구현 불가능
  - 다:다 (불특정 관계)
    
### 1-2. 관계 대수

**일반 집합 연산자 : 합집합 교집합 차집합 카티션 곱**
- 합집합 Union
- 교집합 Intersection
- 차집합 Difference
- 카티션 곱 Cartesian Product : 릴레이션 R의 모든 튜플을 다른 릴레이션 S의 모든 튜플과 결합

**순수 관계 연산자 : 셀렉트 프로젝트 조인 디비전**
- 셀렉트 Select : δ조건(R) : 릴레이션R에서 조건을 만족하는 튜플 반환(조건을 만족하는 릴레이션의 수평적 부분 집합으로 구성)
- 프로젝트 Project : π속성리스트(R) : 릴레이션R에서 주어진 속성들의 값으로만 구성된 튜플 반환
- 조인 Join : R▷◁S : 공통 속성을 이용해 릴레이션 R과 S의 튜플을 연결해 만들어진 튜플 반환
- 디비전 Division : R÷S : 릴레이션 S의 모든 튜플과 연관되어 있는 R의 튜플 반환
- 
# 문제
- 관계 대수
  - 관계형 데이터베이스에서 원하는 정보와 그 정보를 어떻게 유도하는 것인가를 기술하는 절차적인 언어
  - 릴레이션 조작을 위한 연산의 집합
  - 피연산자와 결과가 모두 릴레이션
  - 일반 집합 연산/순수 관계 연산 구분
  - 질의에 대한 해를 구하기 위해 수행해야 할 연산의 순서를 명시함

- 관계 해석 : 수학의 Predicate Calculus(수학에서 사용하는 어떤 지식이나 사실을 표현하는 방법; 술어 논리)에 기반을 두고 있음

### 1-3. 관계 해석

**관계 해석**
- '원하는 정보가 무엇'이라는 것만 선언하는 비절차적 특성을 가지고 있음
- 튜플 관계 해석 + 도메인 관계 해석
- 관계 데이터 모델 제안자 코드가 관계 데이터베이스에 적용할 수 있도록 설계하여 제안함
- 수학의 프레디킷 해석(Predicate calculus, 서술어 해석)에 기반을 가진 관계 데이터의 연산 표현 방법
- 관계 해석과 관계 대수 : 관계 데이터베이스를 처리하는 기능과 능력은 동등함 / 둘 모두 관계 해석과 관계 대수로 표현 가능함
- 프레디킷 Predicate : 실행 결과가 반드시 참이거나 거짓이 되는 함수

**튜플 (관계) 해석**
- 원하는 릴레이션을 튜플 해석식으로 정의하는 표기법
- 기본 연산 단위 : 튜플

**튜플 관계 해석 구성 요소**
- 튜플 변수 R(t) : 범위 변수, 선택된 릴레이션R의 튜플을 하나씩 그 값으로 취할 수 있는 변수
- 한정 애트리뷰트 Qualified Attribute : t.A 또는 t[A] : 릴레이션 R의 튜플 변수 t의 속성A값
- 원자식 Atomic Formula : 세 가지 형태의 원자(Atomic), 원자식을 실행한 결과 - 항상 참true or 거짓false

|유형|설명|
|--|--|
|범위식 S(t)|S : 범위 릴레이션 / t : 튜플 변수|
|비교조건식 tRθuS|t,u : 튜플 변수 / θ : 비교연산자 / R,S : 각각 t,u의 한정 애트리뷰트|
|한정조건식 tRθcS|튜플 변수 t에 대한 한정 애트리뷰트 / c : 상수|

**도메인 (관계) 해석**
- 사용자가 원하는 도메인 해석식으로 표현하는 방법
- 튜플 관계 해석과 기본 골격은 같으나 튜플 변수 대신 도메인 변수를 사용함

**도메인 관계 해석 구성 요소**
- 도메인 변수 S(x1, x2, ..., xn) : 특정 애트리뷰트의 도메인 내 한 원소만을 값으로 취하는 변수 / 각 도메인의 변수는 해당 도메인을 선언해야 함(S : 차수 n인 릴레이션, x1~xn : 해당 릴레이션의 n번째 애트리뷰트 도메인 변수)
 원자식 Atomic Formula : 세 가지 형태의 원자(Atomic), 원자식을 실행한 결과 - 항상 참true or 거짓false

|유형|설명|
|--|--|
|범위식 S(x1, x2, ..., xn)|S : 범위 릴레이션 / x1 : 도메인 변수|
|비교조건식 r0s|r,s : 도메인 변수 / θ : 비교연산자|
|한정조건식 rθc|r : 도메인 변수 / θ : 비교연산자 / c : r이 정의된 도메인값의 상수|

**논리적 기호**
- 논리 연산자 Boolean Operator / 정량자 Quantifier
- 논리 연산자

|구성요소|기호|설명|
|--|--|--|
|OR 연산|V|원자식 '또는' 관계|
|AND 연산|^|그리고|
|NOT 연산|ㄱ|원자식에 대한 부정|

**정량자**

|구성요소|기호|설명|
|--|--|--|
|전칭 정량자|∀|모든 형태의 가능한 튜플 for all|
|존재 정량자|∃|어떤 튜플 하나라도 존재 there exists|

**정형식 WFF ; Well-Formed Formula**
- 원자식, 논리 연산자, 정량자가 다음 규칙에 따라 결합되어 표현되는 식
  1. 모든 원자가 WFF이다
  2. F가 WFF이면, (F)와 ㄱF(NOT F)도 WFF이다
  3. F와 G가 WFF면 F^G(F AND G)와 FVG(F OR G)도 WFF이다
  4. F가 WFF이고 x가 자유 변수이면 (∀x)(F)와 (∃x)(F)도 WFF이다
  5. 1~4의 규칙만을 반복 적용해서 만들어진 식은 WFF이다
 
# 문제
**관계 해석**
- 관계해석으로 질의어로 표현한다
- 원하는 릴레이션을 정의하는 방법을 제공하며 비절차적인 언어이다
- 정량자 =/= 연산자

### 1-4. E-R 모델 Entity Relationship Model

**E-R 모델**
- 1976년 피터 챈 Peter Chen의 제안
- 현실 세계에 존재하는 데이터와 그들 간의 관계를 사람이 이해할 수 있는 형태로 명확하게 표현하기 위해 사용되고 있는 데이터베이스 모델
- 데이터에 대해 관리자, 사용자, 개발자들이 서로 다르게 인식하고 있는 뷰들을 하나로 통합할 수 있는 단일화된 설계안을 구성함

**E-R 모델 특징**
|특징|설명|
|--|--|
|그림으로 표현|개체, 식별자, 상관관계, 속성<br>업무에 필요한 데이터를 그림으로 그려 검증함|
|물리적 환경을 고려하지 않음|외래키 Foreign Key, 기본키 Primary Key, 액세스 성능, 분산환경 등 물리적 환경 고려X|
|데이터 중심 설계|업무(프로세스) 변경에 영향 받지 않도록 함|
|논리 모델-물리모델 매칭|논리 데이터 모델과 물리 데이터 모델 반드시 1:1 매칭x|

**E-R Diagram**
- In the design of information systems, a diagram that shows all the entities(organizations, departments, users, programs, and data) that play roles in the system. as well as the relationship between those entities.

|기호|설명|
|--|--|
|사각형|개체 Entity|
|마름모|관계 Relationship|
|타원|속성 Attribute|
|이중 타원|다중 속성|
|밑줄 타원|기본키 속성|
|복수 타원|복합 속성|
|선(링크)|개체 타입과 속성 연결|
|사각형-마름모-사각형|관계(1:1, M:N 등)|

**E-R 모델 표기법**
|표기법 유형|설명|
|--|--|
|첸 표기법 Chen|- 대학교재에서 많이 사용함<br><img src="https://github.com/7ahyeon/EIP-study/assets/107123698/72287f7f-c7a6-46e6-a9f3-17cb682dba23" width="650" />|
|IDEF1X|- 마름모와 원을 이용한 표기법<br>- 실무 현장에서 소수로 이용<br><img src="https://github.com/7ahyeon/EIP-study/assets/107123698/321109d0-2363-4aac-902c-432f3520d86d" width="650" />|
|정보공학 / 까마귀발 표기법 IE/Crow's Foot|- 가장 많이 사용함<br><img src="https://github.com/7ahyeon/EIP-study/assets/107123698/d6024428-effa-40ec-9e7a-b579ae280929" width="650" />|
|Min-Max/ISO|- 기수성을 좀 더 정교하게 표현한 방법(활용 적음)<br><img src="https://github.com/7ahyeon/EIP-study/assets/107123698/c330e644-2ce2-40f2-8258-2483c626fd42" width="650" />|
|UML UseCase 모델링|스테레오타입 등을 이용하여 엔티티를 표현함<br><img src="https://github.com/7ahyeon/EIP-study/assets/107123698/274f7ead-125c-4c7c-bd46-f6d6288ff6d7" width="650" />|
|Barker 표기법/ Case*Method|- Crow's Foot 적용하면서 관계를 표기함<br><img src="https://github.com/7ahyeon/EIP-study/assets/107123698/7c3adc3f-e350-4410-9129-98f71f49baf9" width="650" />|

### 1-5. 정보 공학 표기법

**정보 공학 표기법 IE / Information Engineering Notation**
- 1981년 클리프 핀켈쉬타인 Clive Finkelstein / 제임스 마틴 James Martin 공동 저술 및 발표
- 1980년 중반 제임스 마틴 체계 정리 이후 본격 활용
- 정보 시스템 구축 시 데이터 분석 Data Analysis와 데이터 설계 Database Design을 위해 유용한 기법

**정보 공학 표기법 기호**
|기호|의미|
|--|--|
|사각형|개체 Entitity<br>- 하나 이상의 속성Attribute으로 구성됨|
|타원|0개|
|||해시마크 1개|
|<-|까마귀발<br>- 2개 이상(n개)|
|실선|필수/식별 관계 Identifying<br>- 부모 테이블의 기본 키를 자식 테이블의 기본키로 사용<br>부모가 없으면 자식도 존재할 수 없는 관계(의존)|
|점선|비식별 관계 Non-identifying<br>- 부모가 없어도 자식이 존재할 수 있는 관계|

**정보 공학 표기법 구성 요소**
|개념도|설명|
|--|--|
|<img src="https://github.com/7ahyeon/EIP-study/assets/107123698/753a788d-4882-4758-ab0e-2b7a3d46e73e" width="300" />|개체 Entity : 사용자가 관리하고자 하는 어떤 사물<br>Entity명 : 학생|
|<img src="https://github.com/7ahyeon/EIP-study/assets/107123698/b6a92336-c217-4973-9dc3-417c4627b264" width="300" />|속성 Attribute : 개체의 특징을 기술함<br>식별자 : 학번|
|관계 Relation| 1:1 / 1:0 or 1:1 / 1:N / 1:1 or 1:N / 1:0 or 1:1 or 1:N|
|식별자 Unique Identifier|PK : 개체는 그들을 지칭하거나 식별해주는 속성인 식별자를 가지고 있음|
|서브타입 Sub-type|배타적/포괄적|

|배타적 서브타입|포괄적 서브타입|
|--|--|
|<img src="https://github.com/7ahyeon/EIP-study/assets/107123698/1ff30c8a-9664-4613-9498-3bbf64027669" width="650" />|<img src="https://github.com/7ahyeon/EIP-study/assets/107123698/15f4b90c-a61b-4f7e-a045-169ef14e1a22" width="650" />|
|슈퍼타입은 1개의 서브타입과 관련된다<br>사원 : 정규직 또는 임시직 중 한 속성만 가질 수 있음|슈퍼타입은 1개 또는 그 이상의 서브타입과 관련된다<br>사원 : 정규직이면서 임시직일 수 있음(다중 속성을 가질 수 있음)|

**정보 공학 표기법 IE vs Peter-Chen 표기법**
|구분|IE 방식|Peter Chen|
|--|--|--|
|사례|<img src="https://github.com/7ahyeon/EIP-study/assets/107123698/29793304-f76d-416b-a1f3-83af8bfbc204" width="650" />|<img src="https://github.com/7ahyeon/EIP-study/assets/107123698/11bc3ffa-720e-4913-8579-9632370bdfaf" width="650" />|
|표현|개체 타입과 속성을 직사각형 표로 표현|개체 타입과 속성을 선으로 연결하여 까마귀 발(Crow's Foot)처럼 표현|
|개체 이름|표 위에 표기|사각형으로 개체 이름 표현|
|식별자|맨 위에 별도의 사각형으로 표현|밑줄|

### 1-6. 바커 표기법

**바커 표기법 Barker Notation**
- 영국 컨설팅 회사 CACI 개발 이후 리차드 바커 Richard Barker에 의해 지속적으로 업그레이드됨
- 오라클에서 케이스 메소드Case Method로 채택하여 사용됨

**바커 표기법 구성**
|개념도|설명|
|--|--|
|<img src="https://github.com/7ahyeon/EIP-study/assets/107123698/1ef9a84e-3a75-459e-ab33-a153e79cf653" width="650" />|- 개체 Entity<br>- 소프트 박스 : 네 모서리가 둥근 형태<br>개체는 하나 이상의 속성으로 구성|
|속성 Attribute|- 업무에 필요한 개체에서 관리하고자 하는 더이상 분리되지 않는 최소의 데이터 단위<br>- # : 본 식별자 표기<br>- * Mandatory : 속성에서 어떤 값을 반드시 저장해야 하는 경우 표기<br>º Optional : 속성에서 어떤 값이 존재할 수도 존재하지 않을 수도 있음|
|<img src="https://github.com/7ahyeon/EIP-study/assets/107123698/a68d935a-ba30-48fd-9bf1-c515e84fdff2" width="650" />|관계 Relationship<br>- 두 개체 간의 관계를 표기하고 관계 명칭을 가까운 위치에 표기<br>- 필수 조건 : 실선 / 선택 조건 : 점선|
|<img src="https://github.com/7ahyeon/EIP-study/assets/107123698/4bd333c3-a9a4-41ac-ab78-32b6ccba3bc8" width="650" />|- 식별자 Unique Identifier : 하나의 개체의 속성들 중 개체를 대표할 수 있는 속성<br>- # 본질 식별자 : 유일성과 최소성을 만족하여 엔티티를 대표할 수 있는 속성<br>- º 대체 식별자 : 유일성과 최소성을 만족할 수 있으나 대표성을 만족하지 못하는 식별자<br>- 인조 식별자 : 본질 식별자가 복잡한 구성 등으로 편의를 위해 인위적으로 만든 식별자|
|<img src="https://github.com/7ahyeon/EIP-study/assets/107123698/ac4d1a49-62ad-497c-866e-effd4772545d" width="650" />|- 서브타입 Sub-type : 슈퍼타입 안에 상자로 나타남<br>- 상호 배타적 관계 : 서브타입 중복을 허락하지 않음|

**개체와 개체 간 상관관계 조건**
|조건|설명|
|--|--|
|필수 조건|조건을 만족하는 개체가 반드시 존재할 경우 표기(실선)|
|선택 조건|조건을 만족하는 개체가 존재할 수도 존재하지 않을 수도 있을 경우에 표기(점선)|

**관계 표현 시 IE VS Barker**
- IE : 타원 0
- Barker : 점선 0 또는 1

### 1.7 정규화

**데이터베이스 정규화**
- 논리 데이터 모델링을 상세화하는 과정
- 함수적 종속을 갖는 릴레이션에서 하나의 종속성이 하나의 릴레이션에 표현될 수 있도록 분해해가는 과정
- 관계형 데이터베이스의 설계에서 중복을 최소화하게 데이터를 구조화하는 프로세스

**스키마 설계**
- 관련된 속성을 수집하고 이들 간에 존재하는 제약조건을 식별해 이 제약조건을 기본으로 속성을 릴레이션으로 그룹짓는 과정

**스키마 변환**
- 스키마 설계를 통해 만들어진 릴레이션을 바람직한 형태의 릴레이션으로 변환하는 과정
- 3가지 원리
  1. 정보 표현의 부손실
  2. 최소의 데이터 중복성
  3. 분리의 원칙

 **데이터베이스 정규화 목적**
 - 구축 데이터베이스의 품질 보장/성능 향상
 - 저장 공간의 최소화, 데이터베이스 내부 자료의 무결성(완전성, 정확성, 일관성) 유지 극대화
 - 데이터 구조의 안정성 최대화
   1. 개체 관계의 정확성
   2. 데이터의 일치성
   3. 데이터 모델의 단순성
   4. 개체 내 존재하는 속성의 비중복성
  
  **정규화 과정 단계**
  |단계|설명|
  |--|--|
  |1차 정규화|- 반복 그룹 속성 제거<br>- 개체 내 반복되는 속성을 하위 개체로 도출|
  |2차 정규화|- 주 식별자 전체에 완전 기능 종속되지 않는 속성을 제거<br>- 주 식별자 속성 일부에만 함수적 종속되는 속성을 하위 개체로 도출|
  |3차 정규화|- 주 식별자에 이행 종속되는 속성을 제거<br>- 주 식별자 제외 일반 속성 중 함수적 종속 속성을 상위 개체로 도출|
  |BCNF 정규화|- 결정자(후보 키가 아닌) 속성 제거<br>- 3차 정규화를 만족하면서 해당 릴레이션의 모든 결정자는 후보키여야 함|
  |4차 정규화|- 주 식별자에 다가 종속(다중값 종속)이 되는 속성을 2가지 이상 두지 않도록 함<br>- 특정 조건에 대해 제공되는 결과값이 같은데 데이터값이 2번 이상 발생하는 속성을 하위 개체로 도출}|
  |5차 정규화|- 결합 종속이 있을 경우 N개 테이블로 분리|
- 3차 정규화 이후 BNCF 정규화를 만족하지 못할 수 있음

**함수적 종속성**
- 릴레이션 R의 애트리뷰트 X의 값이 각각에 대해 항상 Y의 값이 오직 하나만 연관되어 있을 때
- Y는 X에 함수적 종속이라 함
- X→Y : 애트리뷰트 X의 값이 Y의 값을 결정함
- X : 결정자 Determinant 속성 간의 종속성을 규정하기 위해 기준이 되는 값
- Y : 종속자 Dependent 결정자의 값에 의해 정해지는 값

|구조|함수적 종속|
|--|--|
|<img src="https://github.com/7ahyeon/EIP-study/assets/107123698/6cefb4ce-b7b9-4b63-b4de-3253e0d42594" width="650" />|<img src="https://github.com/7ahyeon/EIP-study/assets/107123698/67854799-73f5-493d-9354-9cb8b4bd3d77" width="650" />|

**함수적 종속 추론 규칙**
- 암스트롱 공리 : 함수적 추론 규칙
  - 릴레이션 R에 대해 애트리뷰트 집합 X, Y, Z이 주어졌을 때 여러가지 함수 종속 성질을 유도해낼 수 있는 추론 규칙
- R1 ~ R3 : 기본 규칙(건전성)
- R4 ~ R6 : 부가 규칙(완전성)
- 정당 Sound / 완전 Complete 성질 > 데이터베이스 정규화 이용

|분류|규칙|추론 규칙|설명|
|--|--|--|--|
|기본 규칙|R1|반사 규칙|- A ⊇ B이면<br>- A → B이고 A → A이다.|
||R2|첨가 규칙|- A → B이면<br>AC → BC이고 AC → B이다.|
||R3|이행 규칙|- A → B이고 B → C이면<br>- A → C이다.|
|부가 규칙|R4|분해 규칙|- A → BC이면<br>A → B이고 A → C이다.|
||R5|결합 규칙|- A → B이고 A → C이면<br>- A → BC이다.|
||R6|의사 이행성 규칙|- A → B이고 WB → G이면<br>- WA → G이다.|

**이상 현상**
- 관계 연산(삽입, 삭제, 수정)을 적용할 때 비합리적 결과(데이터 불일치, 중복, 손실 등)가 도출되는 현상
- 정규화로 이상 현상을 해결함

**이상 현상 유형**
- 삽입 이상 Insertion Anormaly
  - 데이터를 삽입할 때 불필요한 데이터를 함께 삽입해야 하는 현상
  - eg. PK컬럼값을 모를 때 NOT NULL속성이므로 데이터를 넣어야 함
 
- 삭제 이상 Delete Anormaly
  - 튜플 삭제 시 유지해야 할 정보도 삭제되는 연쇄 삭제 Triggered detection 현상이 일어나 정보 손실이 발생하는 현상
  - eg. PK 컬럼값 삭제시 다른 컬럼 값도 함께 삭제됨

- 갱신 이상 Update Anormaly
  - 중복된 튜플들 중 일부 튜플의 애트리뷰트 값만 갱신시켜 정보의 모순성이 생기는 현상
  - eg. 학번이 100인 2학년 학생의 성적 2개 중 1개만 학년을 3학년으로 변경 시 다중값(3학년/2학년)을 가지게 되어 일관성 결여됨
 
**정규화 절차**
- 비정규 데이터 →
- **도메인 원자값** → 1NF →
- **부분 함수 종속성 제거** → 2NF →
- **이행 함수 종속성 제거** → 3NF →
- **결정자인데 후보키가 아닌 것 제거** → BCNF →
- **다치 종속성 제거** → 4NF →
- **조인 종속성 제거** → 5NF

**1차 정규화 (1NF; First Normal Form)**
- 릴레이션 R의 모든 도메인 값이 원자값 Atomic value (반복/중복 제거)
- 릴레이션 내의 속성은 원자값을 가지고 있어야 함

|사례|설명|
|--|--|
|1차 정규화 1NF|<img src="https://github.com/7ahyeon/EIP-study/assets/107123698/94cd0a61-4bde-46b1-b21e-84e8fb9715bd" width="650" />|
|정규화 전|- 하나의 <주문>에 여러 개의 주문한 제품이 존재해 <주문번호>가 중복되어 나타남<br><img src="https://github.com/7ahyeon/EIP-study/assets/107123698/9802ac9e-d0cd-4b4a-836b-e08e312beaa2" width="650" />|
|정규화 후|- 도메인 <제품번호>/<제품명> : 원자값 아님 > 속성 1개만 가지도록 변경(중복 속성 분리)<br><img src="https://github.com/7ahyeon/EIP-study/assets/107123698/f7805bcd-eb6e-424f-8053-93d82f1158b8" width="650" />|

**2차 정규화 (2NF; Second Normal Form)**
- 릴레이션 R이 1NF를 만족하고 키(기본 키)에 속하지 않은 애트리뷰트 모두가 기본 키에 완전 함수 종속
- 부분 함수 종속(특정 컬럼에만 종속되는 애트리뷰트)이 없어야 함

|사례|설명|
|--|--|
|2차 정규화 2NF|<img src="https://github.com/7ahyeon/EIP-study/assets/107123698/b989810d-19e5-492b-84f2-c542d1c1b724" width="650" />|
|정규화 전|- <학번><과목코드>가 <학점>에 영향을 주고 <과목코드>가 <과목명>에 영향을 주는 부분 함수 종속 관계 상태<br><img src="https://github.com/7ahyeon/EIP-study/assets/107123698/80f4dc89-19b6-4648-9d06-4072260ca7fd" width="650" />|
|정규화 후|- 도메인 <과목코드> : 원자값 아님 > 속성 1개만 가지도록 변경(중복 속성 분리)<br>- 부분 함수 종속에 대한 종속성 제거 : 부분 관계 <과목코드> → <과목명> 분리<br<img src="https://github.com/7ahyeon/EIP-study/assets/107123698/900f6dff-9506-4118-a08c-074439274b96" width="650" />|

**3차 정규화 (3NF; Third Normal Form)**
- 릴레이션 R이 2NF를 만족하고 키(기본 키)에 속하지 않은 애트리뷰트 모두가 기본 키에 이행적 함수 종속이 아님
- 주 식별자에 이행 종속 Transitive Dependency되는 속성을 제거함
- 주 식별자를 제외한 일반 속성들 중에서 함수적 종속 속성을 상위 개체로 도출함

|사례|설명|
|--|--|
|3차 정규화 3NF|<img src="https://github.com/7ahyeon/EIP-study/assets/107123698/1d1a2a98-7c69-4a4b-b402-5c9d6821bac1" width="650" />|
|정규화 전|- <학번>이 <지도교수>에 영향을 주고 <지도교수>가 <학과>에 영향을 주는 이행 함수 종속 관계 상태<br><img src="https://github.com/7ahyeon/EIP-study/assets/107123698/d45b6d1e-b89d-4550-ae28-c9210d952625" width="650" />|
|정규화 후|- 이행 함수 종속에 대한 종속성 제거 : 부분 관계 <학번> → <지도교수> / <지도교수> → <학과> 분리<br><img src="https://github.com/7ahyeon/EIP-study/assets/107123698/fbb4390d-523f-43e9-b8d3-ac1ba22a1c9b" width="650" />|

**BCNF 정규화(3.5NF; Boyce-Codd Normal Form)**
- 릴레이션 R의 결정자가 모든 후보 키
- 후보 키가 아니면서 결정자인 속성이 존재하는 경우 발생하는 이상 현상 방지 목적

|사례|설명|
|--|--|
|3.5차 정규화 BCNF|<img src="https://github.com/7ahyeon/EIP-study/assets/107123698/5990e4c2-ee01-4538-99d4-b491da21a4d3" width="650" />|
|정규화 전|- 릴레이션 조건<br>  1. 학생(학번)은 각 과목에 대해 한 교수님의 강의만 수강함<br>  2. 각 교수는 한 과목만 담당함<br>  3. 한 학생(학번)은 여러 교수가 담당 가능함<br>- <교수>는 결정자이지만 후보 키(유일성, 최소성)가 아님<br><img src="https://github.com/7ahyeon/EIP-study/assets/107123698/da3198c7-dade-4566-bfd7-160e94c9a359" width="650" />|
|정규화 후|- <학번> → <교수> / <교수> → <과목> 분리<br<img src="https://github.com/7ahyeon/EIP-study/assets/107123698/be7117c3-87aa-4082-b7d6-e58ef2a998cb" width="650" />|

**4차 정규화 (4NF; Fourth Normal Form)**
- 다치 종속 Multi-Valued Dependency : 값이 집합을 결정하는 속성(1:N / 정의 : Fargin / A ↠ B(다중값))
- 하나의 릴레이션에 두 개 이상의 다치 종속이 발생 시 제거함

|사례|설명|
|--|--|
|4차 정규화 4NF|![4차 정규화](https://github.com/7ahyeon/EIP-study/assets/107123698/7ef545ac-89d4-4cf8-bfb2-1045d61aecdc)|
|정규화 전|- 다치 종속 : <교수><교재>가 각각 <과목>에만 종속되고 서로 무관함<br><img src="https://github.com/7ahyeon/EIP-study/assets/107123698/12098cad-5cd3-4e08-b445-a37520ebe57a" width="650" />|
|정규화 후|- <과목> ↠ <교수> <과목> ↠ <교재> : <과목> → <교수/교재> 분리<br><img src="https://github.com/7ahyeon/EIP-study/assets/107123698/08e3e818-d050-439e-8968-d5710d863f47" width="650" />|

**5차 정규화 (5NF; Fifth Normal Form)**
- PJ/NF Projection-Join Normal Form
- 릴레이션 R에 존재하는 모든 조인 종속이 후보 키를 통해서만 만족됨

|사례|설명|
|--|--|
|5차 정규화 5NF|<img src="https://github.com/7ahyeon/EIP-study/assets/107123698/c0934f8d-d40d-4ffa-882f-6cf1acd06180" width="650" />|
|정규화 전|- 조인 종속성 : 4차 정규화 릴레이션에 대한 조인 연산 수행 시 4차 정규화 수행 전 데이터와 다르게 됨<br><img src="https://github.com/7ahyeon/EIP-study/assets/107123698/409b2bc4-427e-4ff2-9719-2a3644f2e385" width="650" />|
|정규화 후|- 조인 종속성 제거 : 모든 종속성 관계 분리 <교수> → <과목> / <과목> → <교재> / <교수> → <교재> 분리(위조 튜플 제거)<br><img src="https://github.com/7ahyeon/EIP-study/assets/107123698/e3a45068-7539-4e22-93a0-8125b2938a08" width="650" />|


